SPARTA (9 Sep 2019)
# 2d flow around a staircase of steps

seed	    	    12345
dimension   	    2
global              gridcut 0.0 comm/sort yes

boundary	    o r p

create_box  	    -20 20 0 40 -0.5 0.5
Created orthogonal box = (-20 0 -0.5) to (20 40 0.5)
create_grid 	    20 40 1
WARNING: Could not acquire nearby ghost cells b/c grid partition is not clumped (../grid.cpp:390)
Created 800 child grid cells
  parent cells = 1
  CPU time = 0.00121054 secs
  create/ghost percent = 88.5148 11.4852
balance_grid        rcb cell
Balance grid migrated 400 cells
  CPU time = 0.00188275 secs
  reassign/sort/migrate/ghost percent = 81.1939 0.133687 7.2538 11.4186

global		    nrho 1.0 fnum 0.001

species		    air.species He
mixture		    air He vstream 0 1.0 0

read_surf	    data.step invert
  30 points
  30 lines
  -20 20 xlo xhi
  0 40 ylo yhi
  0 0 zlo zhi
  1 min line length
  118 = cells with surfs
  162 = total surfs in all grid cells
  3 = max surfs in one grid cell
  0.5 = min surf-size/cell-size ratio
  0 0 = number of pushed cells
  118 0 = cells overlapping surfs, overlap cells with unmarked corner pts
  570 112 118 = cells outside/inside/overlapping surfs
  118 = surf cells with 1,2,etc splits
  1247.35 1247.35 = cell-wise and global flow volume
  CPU time = 0.000898325 secs
  read/check/sort/surf2grid/ghost/inout/particle percent = 20.3421 17.7986 1.34428 48.1277 12.3874 20.2499 0.0579968
  surf2grid time = 0.000432343 secs
  map/rvous1/rvous2/split percent = 9.74296 22.0654 0.143867 33.8326
surf_collide	    1 diffuse 300.0 0.0
surf_modify         all collide 1

collide             vss air air.vss

fix		    in emit/face air ylo

timestep 	    0.001

dump                2 image all 30 image.*.ppm type type pdiam 0.1                     surf proc 0.01 size 512 512 axes yes 0.9 0.02
#dump_modify	    2 pad 4

stats		    100
stats_style	    step cpu np nattempt ncoll nscoll nscheck
run 		    5000
Memory usage per proc in Mbytes:
  particles (ave,min,max) = 0 0 0
  grid      (ave,min,max) = 1.51388 1.51388 1.51388
  surf      (ave,min,max) = 0.00286102 0.00286102 0.00286102
  total     (ave,min,max) = 1.51674 1.51674 1.51674
Step CPU Np Natt Ncoll Nscoll Nscheck 
       0            0        0        0        0        0        0 
     100    1.2615023   226918        0        0     5364    58745 
     200    3.8981428   357714        0        0     7579    86838 
     300    7.2809072   445240        0        0     9123   105117 
     400    11.051603   509977        0        0    10308   119483 
     500    15.187484   561257        0        0    11245   130259 
     600    19.308974   602244        0        0    12109   138502 
     700    23.566527   635922        0        0    12746   145415 
     800    28.085524   663170        0        0    12994   149766 
     900    32.779675   686751        0        0    13582   155423 
    1000     37.50771   706652        0        0    13972   159525 
    1100    42.350477   723335        0        0    14341   161818 
    1200    47.485726   739021        0        0    14676   165086 
    1300    52.556877   752410        0        0    14860   167055 
    1400    57.702168   764351        0        0    15117   169774 
    1500    63.041476   775360        0        0    15168   171503 
    1600    68.347113   784844        0        0    15454   173789 
    1700    73.744126   794215        0        0    15644   174775 
    1800    79.334956   801747        0        0    15709   176344 
    1900    84.823731   809283        0        0    15987   177938 
    2000    90.349488   814825        0        0    15904   177964 
    2100    96.046426   821335        0        0    16262   180197 
    2200    101.65839   826579        0        0    16350   180381 
    2300    107.35723   831596        0        0    16187   181708 
    2400    113.22149   837851        0        0    16445   183655 
    2500    118.98465   842477        0        0    16551   183825 
    2600    124.79196   846944        0        0    16451   183790 
    2700    130.71808   851560        0        0    16627   185147 
    2800    136.53915   855739        0        0    16778   184763 
    2900    142.38943   859614        0        0    16806   186571 
    3000    148.38315   863703        0        0    17086   188823 
    3100    154.27904   867317        0        0    17013   187873 
    3200    160.19453   871286        0        0    17204   189068 
    3300    166.26453   874304        0        0    17280   189645 
    3400    172.25017   877724        0        0    17272   189341 
    3500    178.22751   881086        0        0    17412   191123 
    3600    184.70936   883978        0        0    17317   191338 
    3700    191.30534   887228        0        0    17668   193047 
    3800    197.68204   889478        0        0    17647   192938 
    3900    204.15345   892079        0        0    17315   191783 
    4000    210.84939   894464        0        0    17453   192885 
    4100    217.50709   896402        0        0    17707   193343 
    4200    223.78057   899257        0        0    17714   193429 
    4300    231.63766   902495        0        0    17815   194703 
    4400    238.94507   904487        0        0    17889   195241 
    4500     252.0542   906658        0        0    17830   195056 
    4600    258.35562   909350        0        0    17740   195396 
    4700    264.98782   911852        0        0    18033   196311 
    4800    271.89361   914084        0        0    18022   196756 
    4900    278.21903   916519        0        0    18206   197706 
    5000    284.83503   918028        0        0    18250   197115 
Loop time of 284.835 on 2 procs for 5000 steps with 918028 particles

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Move    | 31.153     | 85.137     | 139.12     | 585.1 | 29.89
Coll    | 23.039     | 44.29      | 65.541     | 319.3 | 15.55
Sort    | 14.7       | 31.358     | 48.017     | 297.5 | 11.01
Comm    | 4.032      | 4.1486     | 4.2652     |   5.7 |  1.46
Modify  | 0.011151   | 3.7166     | 7.422      | 192.2 |  1.30
Output  | 20.016     | 21.55      | 23.083     |  33.0 |  7.57
Other   |            | 94.64      |            |       | 33.22

Particle moves    = 3920404950 (3.92B)
Cells touched     = 5133263430 (5.13B)
Particle comms    = 16341963 (16.3M)
Boundary collides = 62622696 (62.6M)
Boundary exits    = 14362750 (14.4M)
SurfColl checks   = 858025078 (858M)
SurfColl occurs   = 77206898 (77.2M)
Surf reactions    = 0 (0K)
Collide attempts  = 0 (0K)
Collide occurs    = 0 (0K)
Reactions         = 0 (0K)
Particles stuck   = 0

Particle-moves/CPUsec/proc: 6.88188e+06
Particle-moves/step: 784081
Cell-touches/particle/step: 1.30937
Particle comm iterations/step: 1.9948
Particle fraction communicated: 0.00416844
Particle fraction colliding with boundary: 0.0159735
Particle fraction exiting boundary: 0.00366359
Surface-checks/particle/step: 0.218861
Surface-collisions/particle/step: 0.0196936
Surf-reactions/particle/step: 0
Collision-attempts/particle/step: 0
Collisions/particle/step: 0
Reactions/particle/step: 0

Particles: 459014 ave 747604 max 170424 min
Histogram: 1 0 0 0 0 0 0 0 0 1
Cells:      400 ave 400 max 400 min
Histogram: 2 0 0 0 0 0 0 0 0 0
GhostCell: 20 ave 20 max 20 min
Histogram: 2 0 0 0 0 0 0 0 0 0
EmptyCell: 20 ave 20 max 20 min
Histogram: 2 0 0 0 0 0 0 0 0 0
Surfs:    30 ave 30 max 30 min
Histogram: 2 0 0 0 0 0 0 0 0 0
GhostSurf: 0 ave 0 max 0 min
Histogram: 2 0 0 0 0 0 0 0 0 0

